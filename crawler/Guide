The is the guide regarding the use of our Renren Crawler.

>>Important Notice

This folder may contain your personal data(including login account). Please DO NOT share it with anyone else. The author only asks for 'data' directory, which contains the topology and institution label. 

>>System Requirement:
1. bash
2. wget
3. perl

>>Usage:

Before you start, please try login '3g.renren.com' using a browser. If you always encounter validation code(验证码), the following full automated procedure can not work. Please jump to the section 'Manual Login'.

1. copy 'info/post.login.template' to 'info/post.login'
2. modify 'post.login' using your own account(see below for details)
3. issue command: bash ./test.sh
    (estimated to be several seconds)
4. check data files in 'data' directory against the 'Guide'
5. issue command: nohup bash ./run.sh & 
    (estimated to be several hours)
6. you can watch the progress using: tail -f log
7. if you see this line "[./run.sh]===end===", the crawling completes. 

>>'post.login' sample

'post.login.template' contains a string: 'origURL=%2Fhome.do&email={login email address}&password={password}&login=%E7%99%BB%E5%BD%95'

Assume your email address for renren.com is 'abc@xyz.com'(inside the single quotes) and your password is '1#2&3': 
1. Encode the account:(don't miss quotes)
    $./encoder.sh 'abc@xyz.com'
    abc%40xyz.com
2. Encode the password:
	$./encoder.sh '1#2&3'
	1%232%263
3. Substitute variables in 'post.login' using the encoded version accordingly. The resultant 'post.login' file should be:
    'origURL=%2Fhome.do&email=abc%40xyz.com&password=1%232%263&login=%E7%99%BB%E5%BD%95'

>>Test Data Check:

You should see these files under 'data' directory after 'test.sh':
1. 'rootid', which contains your renren ID
2. 'data.friend1', which contains two lines of level one friends
3. 'data.friend2', each file corresponds to one of the level one friends. 
    data format is the same as that of 'data.friend1'

>>Troubleshooting for Failed Test:

1. Login 3g.renren.com using a browser. If you always encounter validation code, you may need to check the 'Manual Login' section. 
2. Check 'tmp/home.html'. If you see an identical home page as logging in with the browser, the login process is successful. Otherwise, it fails. 
3. Please send console output and 'log' file to Pili for further troubleshooting. 

>>Manual Login

(under construction)

>>Policy of Privacy 

Many thanks if you can provide your data in 'data' directory to the authors. We will never share this raw data with any 3rd party. Your data will be isomorphically transformed before we use it in the successive study. In order to protect every participant, the transformation formula will be kept secret to HU, Pili only.  
